<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fifty in Style â€“ Countdown</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="home">
        Fifty in Style
        <small>Gleneagles â€¢ 15â€“19 april 2026</small>
      </div>
      <nav class="nav">
        <a href="programma.html">ğŸ—“ï¸ Programma</a>
        <a href="programma.pdf">ğŸ“„ PDF</a>
      </nav>
    </div>
  </div>

  <main class="container">
    <header class="hero">
      <h1>Countdown</h1>
      <p class="sub">Op naar Scotland â€” â€œFifty in Styleâ€.</p>

      <div class="actions">
        <a class="btn" href="programma.html">ğŸ—“ï¸ Bekijk programma</a>
        <a class="btn" href="programma.pdf">ğŸ“„ Download programma</a>
        <button class="btn" id="addToCalendarBtn" type="button">ğŸ“… Add to Calendar</button>
      </div>
    </header>

    <section class="grid">
      <!-- Countdown card -->
      <article class="card">
        <h2>â³ Nog evenâ€¦</h2>

        <div class="badges" id="countdownBadges" aria-live="polite">
          <span class="badge">â€” dagen</span>
          <span class="badge">â€” uur</span>
          <span class="badge">â€” min</span>
          <span class="badge">â€” sec</span>
        </div>

        <p class="muted" id="countdownNote" style="margin-bottom:0;">
          Doelmoment: wo 15/04/2026 (lokale tijd van je toestel).
        </p>
      </article>

      <!-- Quick overview -->
      <article class="card">
        <h2>âœˆï¸ Vluchten (SN)</h2>
        <div class="timeline">
          <div class="row">
            <div class="time">15/04</div>
            <div class="item"><strong>SN2063</strong> â€” Brussel â†’ Edinburgh <span class="muted">(11:10 â†’ 11:50)</span></div>
          </div>
          <div class="row">
            <div class="time">19/04</div>
            <div class="item"><strong>SN2064</strong> â€” Edinburgh â†’ Brussel <span class="muted">(12:40 â†’ 15:20)</span></div>
          </div>
        </div>

        <div class="badges">
          <span class="badge">ğŸšŒ Private minibus</span>
          <span class="badge">ğŸ›ï¸ Gleneagles Hotel</span>
        </div>
      </article>

      <!-- Useful links -->
      <article class="card">
        <h2>ğŸ”— Handige links</h2>
        <div class="timeline">
          <div class="row">
            <div class="time">ğŸ—“ï¸</div>
            <div class="item"><a href="programma.html">Programma per dag</a></div>
          </div>
          <div class="row">
            <div class="time">ğŸ“„</div>
            <div class="item"><a href="programma.pdf">Programma (PDF)</a></div>
          </div>
        </div>
        <p class="muted" style="margin-bottom:0;">
          Tip: voeg later hier ook een RSVP-link of Google Map toe.
        </p>
      </article>

      <!-- Mini packing / reminders -->
      <article class="card">
        <h2>âœ… Mini-checklist</h2>
        <div class="badges">
          <span class="badge">â›³ spikes / handschoen</span>
          <span class="badge">ğŸ§¥ regenlaag</span>
          <span class="badge">ğŸ‘” dinner smart</span>
          <span class="badge">ğŸ§– spa</span>
        </div>
        <p class="muted" style="margin-bottom:0;">
          (We kunnen dit later uitbreiden naar een echte paklijst-pagina.)
        </p>
      </article>
    </section>

    <div class="footer">Â© Fifty in Style â€” Gleneagles, Scotland</div>
  </main>

  <script>
    // ===== Countdown =====
    // Target: 2026-04-15 00:00 local time (browser)
    const target = new Date(2026, 3, 15, 0, 0, 0); // months are 0-based (3 = April)
    const badgesEl = document.getElementById("countdownBadges");
    const noteEl = document.getElementById("countdownNote");

    function pad(n){ return String(n).padStart(2, "0"); }

    function tick(){
      const now = new Date();
      const diff = target.getTime() - now.getTime();

      if (diff <= 0){
        badgesEl.innerHTML = `
          <span class="badge">ğŸ‰ Het is zover!</span>
          <span class="badge">Scotland time</span>
        `;
        noteEl.textContent = "Have an amazing trip!";
        return;
      }

      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
      const mins = Math.floor((totalSeconds % 3600) / 60);
      const secs = totalSeconds % 60;

      badgesEl.innerHTML = `
        <span class="badge"><strong>${days}</strong> dagen</span>
        <span class="badge"><strong>${pad(hours)}</strong> uur</span>
        <span class="badge"><strong>${pad(mins)}</strong> min</span>
        <span class="badge"><strong>${pad(secs)}</strong> sec</span>
      `;
    }

    tick();
    setInterval(tick, 1000);

    // ===== Add to Calendar (.ics download) =====
    // Simple all-day event (most reliable across calendar apps)
    function downloadICS(){
      const ics =
`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Fifty in Style//Gleneagles//NL
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:fiftyinstyle-20260415@obouckenooghe.github.io
DTSTAMP:${new Date().toISOString().replace(/[-:]/g,'').split('.')[0]}Z
SUMMARY:Fifty in Style â€“ Gleneagles (Scotland)
DTSTART;VALUE=DATE:20260415
DTEND;VALUE=DATE:20260420
DESCRIPTION:Gleneagles trip (15â€“19 April 2026). See programma.html for details.
END:VEVENT
END:VCALENDAR`;

      const blob = new Blob([ics], { type: "text/calendar;charset=utf-8" });
      const url = URL.createObjectURL(blob);

      const a = document.createElement("a");
      a.href = url;
      a.download = "Fifty-in-Style_Gleneagles_15-19Apr2026.ics";
      document.body.appendChild(a);
      a.click();
      a.remove();

      URL.revokeObjectURL(url);
    }

    document.getElementById("addToCalendarBtn").addEventListener("click", downloadICS);
  </script>
</body>
</html>
